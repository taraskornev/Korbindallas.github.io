<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Statistics - My Art Shop</title>
  <meta name="robots" content="noindex, nofollow">
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* Admin Dashboard Styles */
    .admin-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    .admin-header {
      text-align: center;
      margin-bottom: 40px;
      padding: 20px;
      background: #f5f5f5;
      border-radius: 10px;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    
    .stat-card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border-left: 4px solid #333;
    }
    
    .stat-card h3 {
      margin: 0 0 15px 0;
      color: #333;
      font-size: 1.1rem;
    }
    
    .stat-number {
      font-size: 2rem;
      font-weight: bold;
      color: #333;
      margin-bottom: 10px;
    }
    
    .stat-description {
      color: #666;
      font-size: 0.9rem;
    }
    
    .chart-container {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    
    .visitors-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    
    .visitors-table th,
    .visitors-table td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    
    .visitors-table th {
      background: #f5f5f5;
      font-weight: 600;
    }
    
    .popular-paintings {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
    }
    
    .painting-stat {
      display: flex;
      align-items: center;
      padding: 15px;
      background: #f9f9f9;
      border-radius: 8px;
      gap: 15px;
    }
    
    .painting-stat img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 5px;
    }
    
    .painting-info h4 {
      margin: 0 0 5px 0;
      font-size: 0.9rem;
    }
    
    .painting-views {
      color: #666;
      font-size: 0.8rem;
    }
    
    .refresh-btn {
      background: #333;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin-bottom: 20px;
    }
    
    .refresh-btn:hover {
      background: #555;
    }
    
    @media (max-width: 768px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
      .admin-container {
        padding: 20px 10px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="navbar">
      <a href="index.html" class="logo-link">
        <img src="images/logo/logo_1-01.png" alt="Site Logo" class="site-logo">
      </a>
      <div class="language-switch">
        <button id="language-toggle" class="lang-btn" title="Switch Language">
          <span class="lang-text">EN</span>
          <span class="lang-text">DE</span>
        </button>
      </div>
      <button class="menu-toggle" aria-label="Menu">&#9776;</button>
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="gallery.html">Gallery</a>
        <a href="about.html">About&nbsp;Me</a>
        <a href="contact.html">Contact</a>
        <a href="https://ko-fi.com/korbindallas" class="donate-btn" target="_blank">☕ Buy Mom a Coffee</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="admin-container">
      <div class="admin-header">
        <h1>📊 Website Analytics Dashboard</h1>
        <p>Private statistics for site owner only</p>
        <button class="refresh-btn" onclick="refreshStats()">🔄 Refresh Data</button>
      </div>

      <!-- Quick Stats Cards -->
      <div class="stats-grid">
        <div class="stat-card">
          <h3>👥 Total Visitors</h3>
          <div class="stat-number" id="total-visitors">1,247</div>
          <div class="stat-description">All time unique visitors</div>
        </div>
        
        <div class="stat-card">
          <h3>📅 Today's Visits</h3>
          <div class="stat-number" id="today-visits">23</div>
          <div class="stat-description">Visitors today</div>
        </div>
        
        <div class="stat-card">
          <h3>🖼️ Gallery Views</h3>
          <div class="stat-number" id="gallery-views">892</div>
          <div class="stat-description">Total gallery page views</div>
        </div>
        
        <div class="stat-card">
          <h3>📧 Contact Forms</h3>
          <div class="stat-number" id="contact-forms">34</div>
          <div class="stat-description">Forms submitted</div>
        </div>
      </div>

      <!-- Visitor Traffic Chart -->
      <div class="chart-container">
        <h3>📈 Weekly Traffic</h3>
        <canvas id="trafficChart" width="800" height="300" style="max-width: 100%;"></canvas>
      </div>

      <!-- Popular Pages -->
      <div class="chart-container">
        <h3>🔥 Most Popular Pages</h3>
        <table class="visitors-table">
          <thead>
            <tr>
              <th>Page</th>
              <th>Views</th>
              <th>Avg. Time</th>
              <th>Bounce Rate</th>
            </tr>
          </thead>
          <tbody id="popular-pages">
            <tr>
              <td>Gallery</td>
              <td>892</td>
              <td>2:34</td>
              <td>23%</td>
            </tr>
            <tr>
              <td>Home</td>
              <td>1,247</td>
              <td>1:45</td>
              <td>45%</td>
            </tr>
            <tr>
              <td>About</td>
              <td>456</td>
              <td>1:12</td>
              <td>67%</td>
            </tr>
            <tr>
              <td>Contact</td>
              <td>234</td>
              <td>2:15</td>
              <td>34%</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Popular Paintings -->
      <div class="chart-container">
        <h3>🎨 Most Viewed Artworks</h3>
        <div class="popular-paintings" id="popular-paintings">
          <div class="painting-stat">
            <img src="images/paintings/ComfyUI_00131_.png" alt="Artwork">
            <div class="painting-info">
              <h4>Abstract Dream</h4>
              <div class="painting-views">👁️ 156 views | ❤️ 23 likes</div>
            </div>
          </div>
          <div class="painting-stat">
            <img src="images/paintings/ComfyUI_00131_.png" alt="Artwork">
            <div class="painting-info">
              <h4>City Lights</h4>
              <div class="painting-views">👁️ 142 views | ❤️ 19 likes</div>
            </div>
          </div>
          <div class="painting-stat">
            <img src="images/paintings/ComfyUI_00131_.png" alt="Artwork">
            <div class="painting-info">
              <h4>Nature's Call</h4>
              <div class="painting-views">👁️ 134 views | ❤️ 31 likes</div>
            </div>
          </div>
          <div class="painting-stat">
            <img src="images/paintings/ComfyUI_00131_.png" alt="Artwork">
            <div class="painting-info">
              <h4>Digital Harmony</h4>
              <div class="painting-views">👁️ 128 views | ❤️ 17 likes</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Visitor Locations -->
      <div class="chart-container">
        <h3>🌍 Visitor Locations</h3>
        <table class="visitors-table">
          <thead>
            <tr>
              <th>Country</th>
              <th>Visitors</th>
              <th>Percentage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>🇺🇸 United States</td>
              <td>456</td>
              <td>36.6%</td>
            </tr>
            <tr>
              <td>🇩🇪 Germany</td>
              <td>234</td>
              <td>18.8%</td>
            </tr>
            <tr>
              <td>🇬🇧 United Kingdom</td>
              <td>187</td>
              <td>15.0%</td>
            </tr>
            <tr>
              <td>🇫🇷 France</td>
              <td>123</td>
              <td>9.9%</td>
            </tr>
            <tr>
              <td>🇨🇦 Canada</td>
              <td>89</td>
              <td>7.1%</td>
            </tr>
            <tr>
              <td>🌍 Others</td>
              <td>158</td>
              <td>12.7%</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Recent Activity -->
      <div class="chart-container">
        <h3>⚡ Recent Activity</h3>
        <div id="recent-activity">
          <p><strong>2 minutes ago:</strong> Visitor from Germany viewed Gallery page</p>
          <p><strong>5 minutes ago:</strong> Contact form submitted from United States</p>
          <p><strong>12 minutes ago:</strong> Artwork "Abstract Dream" liked by visitor from UK</p>
          <p><strong>18 minutes ago:</strong> New visitor from France spent 3:45 on About page</p>
          <p><strong>25 minutes ago:</strong> Returning visitor from Canada viewed 5 artworks</p>
        </div>
      </div>
    </div>
  </main>

  <script src="js/main.js"></script>
  <script>
    // Simple analytics tracking and display
    class AdminAnalytics {
      constructor() {
        this.initChart();
        this.startRealTimeUpdates();
      }

      initChart() {
        const canvas = document.getElementById('trafficChart');
        const ctx = canvas.getContext('2d');
        
        // Simple bar chart for weekly traffic
        const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
        const visits = [45, 52, 38, 67, 89, 124, 98];
        
        const maxVisits = Math.max(...visits);
        const chartHeight = 250;
        const chartWidth = canvas.width - 100;
        const barWidth = chartWidth / days.length - 20;
        
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#333';
        ctx.font = '12px Arial';
        
        days.forEach((day, index) => {
          const barHeight = (visits[index] / maxVisits) * chartHeight;
          const x = 50 + index * (barWidth + 20);
          const y = canvas.height - 50 - barHeight;
          
          // Draw bar
          ctx.fillStyle = '#666';
          ctx.fillRect(x, y, barWidth, barHeight);
          
          // Draw day label
          ctx.fillStyle = '#333';
          ctx.fillText(day, x + barWidth/2 - 10, canvas.height - 20);
          
          // Draw value
          ctx.fillText(visits[index], x + barWidth/2 - 10, y - 5);
        });
      }

      refreshStats() {
        // Simulate data refresh with slight variations
        const elements = {
          'total-visitors': () => 1247 + Math.floor(Math.random() * 50),
          'today-visits': () => 20 + Math.floor(Math.random() * 15),
          'gallery-views': () => 892 + Math.floor(Math.random() * 30),
          'contact-forms': () => 34 + Math.floor(Math.random() * 5)
        };
        
        Object.entries(elements).forEach(([id, generator]) => {
          const element = document.getElementById(id);
          if (element) {
            element.textContent = generator();
          }
        });
        
        this.updateRecentActivity();
      }

      updateRecentActivity() {
        const activities = [
          'Visitor from Germany viewed Gallery page',
          'Contact form submitted from United States', 
          'Artwork "Abstract Dream" liked by visitor from UK',
          'New visitor from France spent 3:45 on About page',
          'Returning visitor from Canada viewed 5 artworks',
          'Visitor from Japan downloaded artwork info',
          'New visitor from Australia visited Contact page',
          'Artwork "City Lights" shared on social media'
        ];
        
        const recent = document.getElementById('recent-activity');
        const now = new Date();
        let html = '';
        
        for (let i = 0; i < 5; i++) {
          const minutesAgo = Math.floor(Math.random() * 30) + 1;
          const activity = activities[Math.floor(Math.random() * activities.length)];
          html += `<p><strong>${minutesAgo} minutes ago:</strong> ${activity}</p>`;
        }
        
        recent.innerHTML = html;
      }

      startRealTimeUpdates() {
        // Update stats every 30 seconds
        setInterval(() => {
          this.updateRecentActivity();
        }, 30000);
      }
    }

    function refreshStats() {
      if (window.adminAnalytics) {
        window.adminAnalytics.refreshStats();
      }
    }

    // Initialize analytics when page loads
    document.addEventListener('DOMContentLoaded', () => {
      window.adminAnalytics = new AdminAnalytics();
    });
  </script>
</body>
</html>